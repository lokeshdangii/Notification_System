2025-04-28 11:10:08,826 - INFO - notification_logger - üîî Received /notify request
2025-04-28 11:10:08,827 - INFO - notification_logger - üì¶ Processing event_type: user_registered for email: lokeshd4ngi@gmail.com
2025-04-28 11:10:08,963 - INFO - notification_logger - üì® Email task queued for lokeshd4ngi@gmail.com
2025-04-28 11:10:08,965 - INFO - notification_logger - [Task] Triggered send_email_task for lokeshd4ngi@gmail.com
2025-04-28 11:10:08,966 - INFO - notification_logger - [EmailChannel] Sending email to lokeshd4ngi@gmail.com with subject 'Welcome to Notify!'
2025-04-28 11:10:12,619 - INFO - notification_logger - [EmailChannel] Email successfully sent to lokeshd4ngi@gmail.com
2025-04-28 11:10:12,619 - INFO - notification_logger - [Task] Email successfully sent to lokeshd4ngi@gmail.com
2025-04-28 11:11:19,241 - INFO - notification_logger - üîî Received /notify request
2025-04-28 11:11:19,242 - INFO - notification_logger - üì¶ Processing event_type: user_registered for email: lokeshd4ngiii@gmail.com
2025-04-28 11:11:19,272 - INFO - notification_logger - üì® Email task queued for lokeshd4ngiii@gmail.com
2025-04-28 11:11:19,276 - INFO - notification_logger - [Task] Triggered send_email_task for lokeshd4ngiii@gmail.com
2025-04-28 11:11:19,277 - INFO - notification_logger - [EmailChannel] Sending email to lokeshd4ngiii@gmail.com with subject 'Welcome to Notify!'
2025-04-28 11:11:23,252 - ERROR - notification_logger - [EmailChannel] Failed to send email to lokeshd4ngiii@gmail.com
2025-04-28 11:11:23,252 - ERROR - notification_logger - [Task] Failed to send email to lokeshd4ngiii@gmail.com
2025-04-28 11:20:46,173 - INFO - notification_logger - üîî Received /notify request
2025-04-28 11:20:46,174 - INFO - notification_logger - üì¶ Processing event_type: user_registered for email: lokeshd4ngiii@gmail.com
2025-04-28 11:20:46,298 - INFO - notification_logger - üì® Email task queued for lokeshd4ngiii@gmail.com
2025-04-28 11:20:46,300 - INFO - notification_logger - [Task] Triggered send_email_task for lokeshd4ngiii@gmail.com
2025-04-28 11:20:46,300 - INFO - notification_logger - [EmailChannel] Sending email to lokeshd4ngiii@gmail.com with subject 'Welcome to Notify!'
2025-04-28 11:20:50,245 - ERROR - notification_logger - [EmailChannel] Failed to send email to lokeshd4ngiii@gmail.com
2025-04-28 11:20:50,246 - ERROR - notification_logger - [Task] Failed to send email to lokeshd4ngiii@gmail.com
2025-04-28 11:20:54,374 - INFO - notification_logger - üîî Received /notify request
2025-04-28 11:20:54,375 - INFO - notification_logger - üì¶ Processing event_type: user_registered for email: lokeshd4ngi@gmail.com
2025-04-28 11:20:54,387 - INFO - notification_logger - üì® Email task queued for lokeshd4ngi@gmail.com
2025-04-28 11:20:54,389 - INFO - notification_logger - [Task] Triggered send_email_task for lokeshd4ngi@gmail.com
2025-04-28 11:20:54,390 - INFO - notification_logger - [EmailChannel] Sending email to lokeshd4ngi@gmail.com with subject 'Welcome to Notify!'
2025-04-28 11:20:58,348 - INFO - notification_logger - [EmailChannel] Email successfully sent to lokeshd4ngi@gmail.com
2025-04-28 11:20:58,349 - INFO - notification_logger - [Task] Email successfully sent to lokeshd4ngi@gmail.com
2025-04-28 11:31:38,032 - INFO - notification_logger - üîî Received /notify request
2025-04-28 11:31:38,032 - INFO - notification_logger - üì¶ Processing event_type: order_confirmed for email: lokesh@example.com
2025-04-28 11:31:38,097 - INFO - notification_logger - üì® Email task queued for lokesh@example.com
2025-04-28 11:31:38,098 - INFO - notification_logger - [Task] Triggered send_email_task for lokesh@example.com
2025-04-28 11:31:38,098 - INFO - notification_logger - [EmailChannel] Sending email to lokesh@example.com with subject 'Your Order is Confirmed!'
2025-04-28 11:31:42,349 - ERROR - notification_logger - [EmailChannel] Failed to send email to lokesh@example.com
2025-04-28 11:31:42,350 - ERROR - notification_logger - [Task] Failed to send email to lokesh@example.com
2025-04-28 11:32:50,185 - INFO - notification_logger - üîî Received /notify request
2025-04-28 11:32:50,186 - INFO - notification_logger - üì¶ Processing event_type: order_confirmed for email: lokeshd4ngi@gmail.com
2025-04-28 11:32:50,192 - INFO - notification_logger - üì® Email task queued for lokeshd4ngi@gmail.com
2025-04-28 11:32:50,193 - INFO - notification_logger - [Task] Triggered send_email_task for lokeshd4ngi@gmail.com
2025-04-28 11:32:50,193 - INFO - notification_logger - [EmailChannel] Sending email to lokeshd4ngi@gmail.com with subject 'Your Order is Confirmed!'
2025-04-28 11:32:54,289 - INFO - notification_logger - [EmailChannel] Email successfully sent to lokeshd4ngi@gmail.com
2025-04-28 11:32:54,289 - INFO - notification_logger - [Task] Email successfully sent to lokeshd4ngi@gmail.com
2025-04-28 11:38:44,910 - INFO - notification_logger - üîî Received /notify request
2025-04-28 11:38:44,910 - WARNING - notification_logger - üö´ Unauthorized access attempt
2025-04-28 12:07:29,522 - INFO - notification_logger - üîî Received /notify request
2025-04-28 12:07:29,523 - INFO - notification_logger - üì¶ Processing event_type: order_delivered for email: lokeshd4ngi@gmail.com
2025-04-28 12:08:02,950 - INFO - notification_logger - üîî Received /notify request
2025-04-28 12:08:02,951 - INFO - notification_logger - üì¶ Processing event_type: user_registered for email: lokeshd4ngi@gmail.com
2025-04-28 12:08:03,162 - INFO - notification_logger - üì® Email task queued for lokeshd4ngi@gmail.com
2025-04-28 12:08:03,167 - INFO - notification_logger - [Task] Triggered send_email_task for lokeshd4ngi@gmail.com
2025-04-28 12:08:03,169 - INFO - notification_logger - [EmailChannel] Sending email to lokeshd4ngi@gmail.com with subject 'Welcome to Notify!'
2025-04-28 12:08:07,103 - INFO - notification_logger - [EmailChannel] Email successfully sent to lokeshd4ngi@gmail.com
2025-04-28 12:08:07,104 - INFO - notification_logger - [Task] Email successfully sent to lokeshd4ngi@gmail.com
2025-04-28 12:16:54,251 - INFO - notification_logger - üîî Received /notify request
2025-04-28 12:16:54,252 - INFO - notification_logger - üì¶ Processing event_type: payment_done for email: lokeshd4ngi@gmail.com
2025-04-28 12:16:54,343 - INFO - notification_logger - üì® Email task queued for lokeshd4ngi@gmail.com
2025-04-28 12:16:54,346 - INFO - notification_logger - [Task] Triggered send_email_task for lokeshd4ngi@gmail.com
2025-04-28 12:16:54,346 - INFO - notification_logger - [EmailChannel] Sending email to lokeshd4ngi@gmail.com with subject 'Payment Received!'
2025-04-28 12:16:58,168 - INFO - notification_logger - [EmailChannel] Email successfully sent to lokeshd4ngi@gmail.com
2025-04-28 12:16:58,169 - INFO - notification_logger - [Task] Email successfully sent to lokeshd4ngi@gmail.com
2025-04-28 12:43:50,012 - INFO - notification_logger - üîî Received /notify request
2025-04-28 12:43:50,013 - INFO - notification_logger - üì¶ Processing event_type: user_registered for email: lokeshd4ngi@gmail.com
2025-04-28 12:43:50,162 - INFO - notification_logger - üì® Email task queued for lokeshd4ngi@gmail.com
2025-04-28 12:43:50,164 - INFO - notification_logger - [Task] Triggered send_email_task for lokeshd4ngi@gmail.com
2025-04-28 12:43:50,164 - INFO - notification_logger - [EmailChannel] Sending email to lokeshd4ngi@gmail.com with subject 'Welcome to Notify!'
2025-04-28 12:43:54,036 - INFO - notification_logger - [EmailChannel] Email successfully sent to lokeshd4ngi@gmail.com
2025-04-28 12:43:54,037 - INFO - notification_logger - [Task] Email successfully sent to lokeshd4ngi@gmail.com
2025-04-28 12:57:58,273 - INFO - notification_logger - üîî Received /notify request
2025-04-28 12:57:58,275 - INFO - notification_logger - üì¶ Processing event_type: user_registered for email: lokeshd4ngi@gmail.com
2025-04-28 12:57:58,423 - INFO - notification_logger - üì® Email task queued for lokeshd4ngi@gmail.com
2025-04-28 12:57:58,426 - INFO - notification_logger - [Task] Triggered send_email_task for lokeshd4ngi@gmail.com
2025-04-28 12:57:58,427 - INFO - notification_logger - [EmailChannel] Sending email to lokeshd4ngi@gmail.com with subject 'Welcome to Notify!'
2025-04-28 12:58:02,075 - INFO - notification_logger - [EmailChannel] Email successfully sent to lokeshd4ngi@gmail.com
2025-04-28 12:58:02,076 - INFO - notification_logger - [Task] Email successfully sent to lokeshd4ngi@gmail.com
2025-04-28 12:59:26,934 - INFO - notification_logger - üîî Received /notify request
2025-04-28 12:59:26,935 - INFO - notification_logger - üì¶ Processing event_type: user_registered for email: lokeshd4ngi@gmail.com
2025-04-28 12:59:27,077 - INFO - notification_logger - üì® Email task queued for lokeshd4ngi@gmail.com
2025-04-28 12:59:27,079 - INFO - notification_logger - [Task] Triggered send_email_task for lokeshd4ngi@gmail.com
2025-04-28 12:59:27,079 - INFO - notification_logger - [EmailChannel] Sending email to lokeshd4ngi@gmail.com with subject 'Welcome to Notify!'
2025-04-28 12:59:30,690 - INFO - notification_logger - [EmailChannel] Email successfully sent to lokeshd4ngi@gmail.com
2025-04-28 12:59:30,691 - INFO - notification_logger - [Task] Email successfully sent to lokeshd4ngi@gmail.com
2025-04-28 13:28:13,334 - INFO - notification_logger - üîî Received /notify request
2025-04-28 13:28:13,335 - INFO - notification_logger - üì¶ Processing event_type: order_delivered for email: lokeshd4ngi@gmail.com
2025-04-28 13:28:13,390 - INFO - notification_logger - üì® Email task queued for lokeshd4ngi@gmail.com
2025-04-28 13:28:13,391 - INFO - notification_logger - [Task] Triggered send_email_task for lokeshd4ngi@gmail.com
2025-04-28 13:28:13,392 - INFO - notification_logger - [EmailChannel] Sending email to lokeshd4ngi@gmail.com with subject 'Order Delivered!'
2025-04-28 13:28:17,160 - INFO - notification_logger - [EmailChannel] Email successfully sent to lokeshd4ngi@gmail.com
2025-04-28 13:28:17,160 - INFO - notification_logger - [Task] Email successfully sent to lokeshd4ngi@gmail.com
2025-04-28 16:50:02,648 - INFO - notification_logger - üîî Received /notify request
2025-04-28 16:50:02,649 - INFO - notification_logger - üì¶ Processing event_type: user_registered for email: lokeshd4ngi@gmail.com
2025-04-28 16:50:02,776 - INFO - notification_logger - üì® Email task queued for lokeshd4ngi@gmail.com
2025-04-28 16:50:02,778 - INFO - notification_logger - [Task] Triggered send_email_task for lokeshd4ngi@gmail.com
2025-04-28 16:50:02,779 - INFO - notification_logger - [EmailChannel] Sending email to lokeshd4ngi@gmail.com with subject 'Welcome to Notify!'
2025-04-28 16:50:06,736 - INFO - notification_logger - [EmailChannel] Email successfully sent to lokeshd4ngi@gmail.com
2025-04-28 16:50:06,736 - INFO - notification_logger - [Task] Email successfully sent to lokeshd4ngi@gmail.com
2025-04-29 15:51:42,461 - INFO - notification_logger - üîî Received /notify request
2025-04-29 15:51:42,461 - INFO - notification_logger - üì¶ Processing event_type: user_registered for email: lokeshd4ngi@gmail.com
2025-04-29 15:52:01,537 - ERROR - notification_logger - ‚ùå Failed to queue email: Error -3 connecting to notification_redis:6379. Temporary failure in name resolution.
Traceback (most recent call last):
  File "/home/lokesh/Desktop/Decode/Notification_System/.venv/lib/python3.12/site-packages/redis/connection.py", line 357, in connect
    sock = self.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lokesh/Desktop/Decode/Notification_System/.venv/lib/python3.12/site-packages/redis/retry.py", line 62, in call_with_retry
    return do()
           ^^^^
  File "/home/lokesh/Desktop/Decode/Notification_System/.venv/lib/python3.12/site-packages/redis/connection.py", line 358, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
            ^^^^^^^^^^^^^^^
  File "/home/lokesh/Desktop/Decode/Notification_System/.venv/lib/python3.12/site-packages/redis/connection.py", line 698, in _connect
    for res in socket.getaddrinfo(
               ^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/socket.py", line 963, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
socket.gaierror: [Errno -3] Temporary failure in name resolution

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/lokesh/Desktop/Decode/Notification_System/.venv/lib/python3.12/site-packages/celery/backends/redis.py", line 127, in reconnect_on_error
    yield
  File "/home/lokesh/Desktop/Decode/Notification_System/.venv/lib/python3.12/site-packages/celery/backends/redis.py", line 177, in _consume_from
    self._pubsub.subscribe(key)
  File "/home/lokesh/Desktop/Decode/Notification_System/.venv/lib/python3.12/site-packages/redis/client.py", line 957, in subscribe
    ret_val = self.execute_command("SUBSCRIBE", *new_channels.keys())
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lokesh/Desktop/Decode/Notification_System/.venv/lib/python3.12/site-packages/redis/client.py", line 786, in execute_command
    self.connection = self.connection_pool.get_connection(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lokesh/Desktop/Decode/Notification_System/.venv/lib/python3.12/site-packages/redis/connection.py", line 1422, in get_connection
    connection.connect()
  File "/home/lokesh/Desktop/Decode/Notification_System/.venv/lib/python3.12/site-packages/redis/connection.py", line 363, in connect
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error -3 connecting to notification_redis:6379. Temporary failure in name resolution.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/lokesh/Desktop/Decode/Notification_System/.venv/lib/python3.12/site-packages/redis/connection.py", line 357, in connect
    sock = self.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lokesh/Desktop/Decode/Notification_System/.venv/lib/python3.12/site-packages/redis/retry.py", line 62, in call_with_retry
    return do()
           ^^^^
  File "/home/lokesh/Desktop/Decode/Notification_System/.venv/lib/python3.12/site-packages/redis/connection.py", line 358, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
            ^^^^^^^^^^^^^^^
  File "/home/lokesh/Desktop/Decode/Notification_System/.venv/lib/python3.12/site-packages/redis/connection.py", line 698, in _connect
    for res in socket.getaddrinfo(
               ^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/socket.py", line 963, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
socket.gaierror: [Errno -3] Temporary failure in name resolution

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/lokesh/Desktop/Decode/Notification_System/.venv/lib/python3.12/site-packages/kombu/connection.py", line 472, in _reraise_as_library_errors
    yield
  File "/home/lokesh/Desktop/Decode/Notification_System/.venv/lib/python3.12/site-packages/celery/app/base.py", line 921, in send_task
    self.backend.on_task_call(P, task_id)
  File "/home/lokesh/Desktop/Decode/Notification_System/.venv/lib/python3.12/site-packages/celery/backends/redis.py", line 378, in on_task_call
    self.result_consumer.consume_from(task_id)
  File "/home/lokesh/Desktop/Decode/Notification_System/.venv/lib/python3.12/site-packages/celery/backends/redis.py", line 169, in consume_from
    return self.start(task_id)
           ^^^^^^^^^^^^^^^^^^^
  File "/home/lokesh/Desktop/Decode/Notification_System/.venv/lib/python3.12/site-packages/celery/backends/redis.py", line 147, in start
    self._consume_from(initial_task_id)
  File "/home/lokesh/Desktop/Decode/Notification_System/.venv/lib/python3.12/site-packages/celery/backends/redis.py", line 176, in _consume_from
    with self.reconnect_on_error():
  File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/home/lokesh/Desktop/Decode/Notification_System/.venv/lib/python3.12/site-packages/celery/backends/redis.py", line 130, in reconnect_on_error
    self._ensure(self._reconnect_pubsub, ())
  File "/home/lokesh/Desktop/Decode/Notification_System/.venv/lib/python3.12/site-packages/celery/backends/redis.py", line 389, in ensure
    return retry_over_time(
           ^^^^^^^^^^^^^^^^
  File "/home/lokesh/Desktop/Decode/Notification_System/.venv/lib/python3.12/site-packages/kombu/utils/functional.py", line 318, in retry_over_time
    return fun(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^
  File "/home/lokesh/Desktop/Decode/Notification_System/.venv/lib/python3.12/site-packages/celery/backends/redis.py", line 106, in _reconnect_pubsub
    metas = self.backend.client.mget(self.subscribed_to)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lokesh/Desktop/Decode/Notification_System/.venv/lib/python3.12/site-packages/redis/commands/core.py", line 2009, in mget
    return self.execute_command("MGET", *args, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lokesh/Desktop/Decode/Notification_System/.venv/lib/python3.12/site-packages/redis/client.py", line 559, in execute_command
    return self._execute_command(*args, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lokesh/Desktop/Decode/Notification_System/.venv/lib/python3.12/site-packages/redis/client.py", line 565, in _execute_command
    conn = self.connection or pool.get_connection(command_name, **options)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lokesh/Desktop/Decode/Notification_System/.venv/lib/python3.12/site-packages/redis/connection.py", line 1422, in get_connection
    connection.connect()
  File "/home/lokesh/Desktop/Decode/Notification_System/.venv/lib/python3.12/site-packages/redis/connection.py", line 363, in connect
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error -3 connecting to notification_redis:6379. Temporary failure in name resolution.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/lokesh/Desktop/Decode/Notification_System/app.py", line 98, in notify
    send_email_task.delay(payload["email"], subject, body)
  File "/home/lokesh/Desktop/Decode/Notification_System/.venv/lib/python3.12/site-packages/celery/app/task.py", line 444, in delay
    return self.apply_async(args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lokesh/Desktop/Decode/Notification_System/.venv/lib/python3.12/site-packages/celery/app/task.py", line 601, in apply_async
    return app.send_task(
           ^^^^^^^^^^^^^^
  File "/home/lokesh/Desktop/Decode/Notification_System/.venv/lib/python3.12/site-packages/celery/app/base.py", line 919, in send_task
    with P.connection._reraise_as_library_errors():
  File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/home/lokesh/Desktop/Decode/Notification_System/.venv/lib/python3.12/site-packages/kombu/connection.py", line 476, in _reraise_as_library_errors
    raise ConnectionError(str(exc)) from exc
kombu.exceptions.OperationalError: Error -3 connecting to notification_redis:6379. Temporary failure in name resolution.
2025-04-29 15:56:07,842 - INFO - notification_logger - üîî Received /notify request
2025-04-29 15:56:07,842 - INFO - notification_logger - üì¶ Processing event_type: user_registered for email: lokeshd4ngi@gmail.com
2025-04-29 15:56:07,903 - INFO - notification_logger - üì® Email task queued for lokeshd4ngi@gmail.com
2025-04-29 15:56:07,905 - INFO - notification_logger - [Task] Triggered send_email_task for lokeshd4ngi@gmail.com
2025-04-29 15:56:07,905 - INFO - notification_logger - [EmailChannel] Sending email to lokeshd4ngi@gmail.com with subject 'Welcome to Notify!'
2025-04-29 15:56:12,086 - INFO - notification_logger - [EmailChannel] Email successfully sent to lokeshd4ngi@gmail.com
2025-04-29 15:56:12,086 - INFO - notification_logger - [Task] Email successfully sent to lokeshd4ngi@gmail.com
